<!--
Copyright 2013 The Polymer Authors. All rights reserved.
Use of this source code is governed by a BSD-style
license that can be found in the LICENSE file.
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>URL integration test</title>
  <script src="../../../tools/test/htmltest.js"></script>
  <script src="../../../tools/test/chai/chai.js"></script>
  <script src="../../platform.js"></script>
</head>
<body>
  <template>
    <b id="a" href="/1/2"></b>
    <b id="b" href="2/../3/4"></b>
    <b id="c" href="{{ path }}/baz"></b>
  </template>
  <script>
    function getUrl(template, id, attr) {
      return template.content.querySelector('#' + id).getAttribute(attr);
    }
    var t = document.querySelector('template');
    Platform.urlResolver.resolveTemplate(t);
    chai.assert.equal(getUrl(t, 'a', 'href'), '/1/2');
    chai.assert.equal(getUrl(t, 'b', 'href'), '3/4');
    chai.assert.equal(getUrl(t, 'c', 'href'), '{{ path }}/baz');
    done();
  </script>
</body>
</html>
